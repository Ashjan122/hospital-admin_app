# ميزة المستخدمين من نوع طبيب

## نظرة عامة
تم إضافة ميزة جديدة تسمح بإنشاء مستخدمين من نوع "طبيب" وربطهم بأطباء موجودين في المركز الطبي.

## الميزات الجديدة

### 1. إضافة مستخدم من نوع طبيب
- عند إضافة مستخدم جديد، يمكن اختيار نوع المستخدم (موظف استقبال أو طبيب)
- عند اختيار نوع "طبيب"، تظهر قائمة بالأطباء النشطين في المركز
- يتم ربط معرف الطبيب واسمه بالمستخدم الجديد

### 2. تسجيل دخول الطبيب
- عند تسجيل دخول مستخدم من نوع طبيب، يتم توجيهه مباشرة إلى صفحة حجوزاته
- يتم عرض حجوزات اليوم افتراضياً
- يمكن للطبيب تصفية الحجوزات حسب التاريخ والبحث في المرضى

### 3. تعديل معلومات المستخدم
- في صفحة تعديل البروفايل، يمكن تغيير نوع المستخدم
- عند تغيير النوع إلى "طبيب"، يمكن اختيار طبيب من قائمة الأطباء في المركز
- يتم حفظ معرف الطبيب واسمه مع بيانات المستخدم

### 4. عرض نوع المستخدم
- في قائمة المستخدمين، يتم عرض نوع كل مستخدم بلون مميز
- الألوان:
  - مدير: أحمر
  - طبيب: أزرق
  - موظف استقبال: أخضر

## التغييرات التقنية

### ملفات معدلة:
1. `lib/screens/admin_users_screen.dart`
   - إضافة اختيار نوع المستخدم عند الإضافة
   - جلب قائمة الأطباء من المركز
   - عرض نوع المستخدم في القائمة

2. `lib/screens/login_screen.dart`
   - دعم تسجيل دخول المستخدمين من نوع طبيب
   - حفظ معرف الطبيب واسمه في SharedPreferences
   - توجيه الطبيب إلى صفحة حجوزاته

3. `lib/screens/doctor_bookings_screen.dart`
   - تغيير الفلتر الافتراضي إلى "اليوم"
   - عرض حجوزات اليوم عند تسجيل دخول الطبيب

4. `lib/screens/admin_user_profile_screen.dart`
   - إضافة اختيار الطبيب عند تعديل نوع المستخدم
   - حفظ معرف الطبيب مع بيانات المستخدم

### بنية البيانات الجديدة:
```json
{
  "userName": "اسم المستخدم",
  "userPhone": "رقم الهاتف",
  "userPassword": "كلمة المرور",
  "userType": "doctor",
  "centerId": "معرف المركز",
  "centerName": "اسم المركز",
  "doctorId": "معرف الطبيب",
  "doctorName": "اسم الطبيب",
  "createdAt": "تاريخ الإنشاء"
}
```

## كيفية الاستخدام

### إضافة مستخدم طبيب:
1. انتقل إلى صفحة إدارة المستخدمين
2. اضغط على "إضافة مستخدم جديد"
3. املأ البيانات الأساسية
4. اختر نوع المستخدم "طبيب"
5. اختر الطبيب من القائمة المنسدلة
6. اضغط "إضافة"

### تسجيل دخول الطبيب:
1. استخدم اسم المستخدم وكلمة المرور
2. سيتم توجيهك مباشرة إلى صفحة حجوزاتك
3. ستظهر حجوزات اليوم افتراضياً

### تعديل نوع المستخدم:
1. انتقل إلى بروفايل المستخدم
2. غير نوع المستخدم إلى "طبيب"
3. اختر الطبيب المراد ربطه
4. احفظ التغييرات

## ملاحظات مهمة
- يجب أن يكون الطبيب نشطاً في المركز ليظهر في القائمة
- عند تغيير نوع المستخدم من طبيب إلى نوع آخر، يتم إزالة معرف الطبيب
- حجوزات الطبيب تعتمد على معرف الطبيب المخزن في بيانات المستخدم
