# ๐ ููุฒุฉ ุงูุงูุชูุงู ููุฅุดุนุงุฑุงุช ูุน ุงูุชุงุฑูุฎ ุงููุญุฏุฏ

## ๐ฏ **ุงูููุฒุฉ ุงููุทููุจุฉ**

ุนูุฏูุง ูุตู ุฅุดุนุงุฑ ุญุฌุฒ ุฌุฏูุฏ ููุถุบุท ุงููุณุชุฎุฏู ุนูููุ ูุฌุจ ุฃู:
1. **ููุชูู ูุดุงุดุฉ ุญุฌูุฒุงุช ุงูุทุจูุจ** ูุจุงุดุฑุฉ
2. **ููุชุญ ุงูุดุงุดุฉ ุนูู ุงูุชุงุฑูุฎ ุงูุตุญูุญ** ููุญุฌุฒ ุงูุฌุฏูุฏ
3. **ูุนุฑุถ ุงูุญุฌุฒ ุงูุฌุฏูุฏ** ูู ุฃุนูู ุงููุงุฆูุฉ

## โ **ูุง ุชู ุชูููุฐู**

### **1. ุฅุถุงูุฉ ูุนุงูู `initialDate` ูู `DoctorBookingsScreen`:**
```dart
class DoctorBookingsScreen extends StatefulWidget {
  final String doctorId;
  final String centerId;
  final String? centerName;
  final String doctorName;
  final DateTime? initialDate; // ุงูุชุงุฑูุฎ ุงููุญุฏุฏ ููุชุญ ุงูุดุงุดุฉ ุนููู

  const DoctorBookingsScreen({
    super.key,
    required this.doctorId,
    required this.centerId,
    this.centerName,
    required this.doctorName,
    this.initialDate, // ุงูุชุงุฑูุฎ ุงููุญุฏุฏ ููุญุฌุฒ ุงูุฌุฏูุฏ
  });
}
```

### **2. ุชุนุฏูู `initState` ูุงุณุชุฎุฏุงู ุงูุชุงุฑูุฎ ุงููุญุฏุฏ:**
```dart
@override
void initState() {
  super.initState();
  
  // ุฅุฐุง ูุงู ููุงู ุชุงุฑูุฎ ูุญุฏุฏุ ุงุณุชุฎุฏูู
  if (widget.initialDate != null) {
    _selectedDate = widget.initialDate;
    _selectedFilter = 'custom'; // ุชุบููุฑ ุงูููุชุฑ ุฅูู ุชุงุฑูุฎ ูุฎุตุต
    print('=== INITIALIZING WITH SPECIFIC DATE ===');
    print('Initial Date: ${widget.initialDate}');
    print('Selected Filter: $_selectedFilter');
  }
  
  _loadUserType();
  _loadBookings();
}
```

### **3. ุชุนุฏูู `NotificationsScreen` ูุชูุฑูุฑ ุงูุชุงุฑูุฎ:**
```dart
void _navigateToDoctorBookings(Map<String, dynamic> notification) async {
  // ... ุงูููุฏ ุงูููุฌูุฏ ...
  
  // ุงุณุชุฎุฑุงุฌ ุชุงุฑูุฎ ุงูุญุฌุฒ ูู ุงูุฅุดุนุงุฑ
  DateTime? bookingDate;
  try {
    if (notification['appointmentDate'] != null) {
      bookingDate = DateTime.parse(notification['appointmentDate']);
      print('Extracted booking date: $bookingDate');
    }
  } catch (e) {
    print('Error parsing appointment date: $e');
    bookingDate = null;
  }
  
  Navigator.push(
    context,
    MaterialPageRoute(
      builder: (context) => DoctorBookingsScreen(
        doctorId: notification['doctorId'],
        centerId: notification['centerId'],
        centerName: widget.centerName,
        doctorName: notification['doctorName'],
        initialDate: bookingDate, // ุงูุชุงุฑูุฎ ุงููุญุฏุฏ ููุญุฌุฒ ุงูุฌุฏูุฏ
      ),
    ),
  );
}
```

## ๐ **ููููุฉ ุงูุนูู**

### **ุนูุฏ ูุตูู ุฅุดุนุงุฑ ุญุฌุฒ ุฌุฏูุฏ:**
1. **ุงูุฅุดุนุงุฑ ูุธูุฑ** ูู ูุงุฆูุฉ ุงูุฅุดุนุงุฑุงุช
2. **ุงููุณุชุฎุฏู ูุถุบุท** ุนูู ุงูุฅุดุนุงุฑ
3. **ุงููุธุงู ูุณุชุฎุฑุฌ** ุชุงุฑูุฎ ุงูุญุฌุฒ ูู ุงูุฅุดุนุงุฑ
4. **ุงูุงูุชูุงู ูุดุงุดุฉ** ุญุฌูุฒุงุช ุงูุทุจูุจ
5. **ูุชุญ ุงูุดุงุดุฉ ุนูู ุงูุชุงุฑูุฎ** ุงููุญุฏุฏ ููุญุฌุฒ

### **ูู ุดุงุดุฉ ุญุฌูุฒุงุช ุงูุทุจูุจ:**
1. **ุงูุชุงุฑูุฎ ูุญุฏุฏ ุชููุงุฆูุงู** ุนูู ุชุงุฑูุฎ ุงูุญุฌุฒ ุงูุฌุฏูุฏ
2. **ุงูููุชุฑ ูุชุบูุฑ** ุฅูู "ุชุงุฑูุฎ ูุฎุตุต"
3. **ุงูุญุฌูุฒุงุช ุชูุนุฑุถ** ููุชุงุฑูุฎ ุงููุญุฏุฏ
4. **ุงูุญุฌุฒ ุงูุฌุฏูุฏ ูุธูุฑ** ูู ุฃุนูู ุงููุงุฆูุฉ

## ๐ฑ **ูุซุงู ุนููู**

### **ุณููุงุฑูู:**
- **ุฅุดุนุงุฑ ุฌุฏูุฏ:** "ุญุฌุฒ ุฌุฏูุฏ - ุฏ. ุฃุญูุฏ"
- **ุชุงุฑูุฎ ุงูุญุฌุฒ:** ุบุฏุงู (2025/01/26)
- **ุงููุณุชุฎุฏู ูุถุบุท** ุนูู ุงูุฅุดุนุงุฑ

### **ุงููุชูุฌุฉ:**
1. **ุงูุชูุงู ููุฑู** ูุดุงุดุฉ ุญุฌูุฒุงุช ุฏ. ุฃุญูุฏ
2. **ุงูุชุงุฑูุฎ ูุญุฏุฏ** ุนูู 2025/01/26
3. **ุนุฑุถ ุงูุญุฌูุฒุงุช** ููููู ุงููุญุฏุฏ
4. **ุงูุญุฌุฒ ุงูุฌุฏูุฏ** ูู ุฃุนูู ุงููุงุฆูุฉ

## ๐ง **ุงูุจูุงูุงุช ุงููุทููุจุฉ**

### **ูู ุงูุฅุดุนุงุฑ:**
- `doctorId`: ูุนุฑู ุงูุทุจูุจ
- `doctorName`: ุงุณู ุงูุทุจูุจ
- `centerId`: ูุนุฑู ุงููุฑูุฒ
- `appointmentDate`: ุชุงุฑูุฎ ุงูุญุฌุฒ (ูุทููุจ ููุชุงุฑูุฎ ุงููุญุฏุฏ)
- `appointmentTime`: ููุช ุงูุญุฌุฒ
- `patientName`: ุงุณู ุงููุฑูุถ

### **ูู ุดุงุดุฉ ุญุฌูุฒุงุช ุงูุทุจูุจ:**
- `initialDate`: ุงูุชุงุฑูุฎ ุงููุญุฏุฏ ููุชุญ ุงูุดุงุดุฉ ุนููู
- `_selectedDate`: ุงูุชุงุฑูุฎ ุงููุญุฏุฏ ูุญููุงู
- `_selectedFilter`: ููุน ุงูููุชุฑ (custom ููุชุงุฑูุฎ ุงููุญุฏุฏ)

## ๐ **ููุงุฑูุฉ ูุจู ูุจุนุฏ**

### **ูุจู ุงูุชุญุฏูุซ:**
- โ ุนูุฏ ุงูุถุบุท ุนูู ุงูุฅุดุนุงุฑ: ุงูุชูุงู ูุดุงุดุฉ ุญุฌูุฒุงุช ุงูุทุจูุจ
- โ ุงูุดุงุดุฉ ุชูุชุญ ุนูู ุงูุชุงุฑูุฎ ุงูุงูุชุฑุงุถู (ุงูููู)
- โ ุงููุณุชุฎุฏู ูุญุชุงุฌ ูุชุญุฏูุฏ ุงูุชุงุฑูุฎ ูุฏููุงู
- โ ุงูุญุฌุฒ ุงูุฌุฏูุฏ ูุฏ ูุง ูุธูุฑ ูู ุงููุงุฆูุฉ

### **ุจุนุฏ ุงูุชุญุฏูุซ:**
- โ ุนูุฏ ุงูุถุบุท ุนูู ุงูุฅุดุนุงุฑ: ุงูุชูุงู ูุดุงุดุฉ ุญุฌูุฒุงุช ุงูุทุจูุจ
- โ ุงูุดุงุดุฉ ุชูุชุญ ุนูู ุชุงุฑูุฎ ุงูุญุฌุฒ ุงูุฌุฏูุฏ ุชููุงุฆูุงู
- โ ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ ุงูุชุงุฑูุฎ ูุฏููุงู
- โ ุงูุญุฌุฒ ุงูุฌุฏูุฏ ูุธูุฑ ูุจุงุดุฑุฉ ูู ุงููุงุฆูุฉ

## ๐ฏ **ุงููุฒุงูุง ุงูุฌุฏูุฏุฉ**

1. **ุงูุชูุงู ุฐูู:** ูุชุญ ุงูุดุงุดุฉ ุนูู ุงูุชุงุฑูุฎ ุงูุตุญูุญ
2. **ุชุฌุฑุจุฉ ูุณุชุฎุฏู ูุญุณูุฉ:** ูุง ุญุงุฌุฉ ูุชุญุฏูุฏ ุงูุชุงุฑูุฎ ูุฏููุงู
3. **ุนุฑุถ ููุฑู:** ุงูุญุฌุฒ ุงูุฌุฏูุฏ ูุธูุฑ ูุจุงุดุฑุฉ
4. **ููุงุกุฉ ุฃุนูู:** ูุตูู ุณุฑูุน ูููุนูููุงุช ุงููุทููุจุฉ
5. **ุฏูุฉ ุฃูุจุฑ:** ุนุฑุถ ุงูุญุฌูุฒุงุช ููุชุงุฑูุฎ ุงููุญุฏุฏ

## ๐ **ุงูุฎุทูุงุช ุงูุชุงููุฉ**

1. **ุงุฎุชุจุงุฑ ุงูููุฒุฉ** ูุน ุฅุดุนุงุฑุงุช ุญุฌุฒ ุฌุฏูุฏุฉ
2. **ูุฑุงูุจุฉ ุงูุฃุฏุงุก** ุนูุฏ ุงูุงูุชูุงู
3. **ุฌูุน ุงูุชุบุฐูุฉ ุงูุฑุงุฌุนุฉ** ูู ุงููุณุชุฎุฏููู
4. **ุชุทุจูู ููุณ ุงูููุฒุฉ** ุนูู ุฃููุงุน ุฅุดุนุงุฑุงุช ุฃุฎุฑู

## ๐ **ููุงุญุธุงุช ูููุฉ**

- **ุงูุชุงุฑูุฎ ูุทููุจ** ูู ุงูุฅุดุนุงุฑ ูุชูุนูู ุงูููุฒุฉ
- **ุงูููุชุฑ ูุชุบูุฑ ุชููุงุฆูุงู** ุฅูู "ุชุงุฑูุฎ ูุฎุตุต"
- **ูู ุญุงูุฉ ุนุฏู ูุฌูุฏ ุชุงุฑูุฎ:** ุงูุดุงุดุฉ ุชูุชุญ ุจุงูุทุฑููุฉ ุงูุนุงุฏูุฉ
- **ุงูููุฒุฉ ุชุนูู** ูุน ุฌููุน ุฃููุงุน ุงูุญุฌูุฒุงุช
- **ูุง ุชุคุซุฑ ุนูู** ุงููุธุงุฆู ุงูููุฌูุฏุฉ

## ๐ง **ุงุณุชูุดุงู ุงูุฃุฎุทุงุก**

### **ุฅุฐุง ูู ูุนูู ุงูุชุงุฑูุฎ ุงููุญุฏุฏ:**

#### **ุงูุชุญูู ูู:**
1. **ุงูุณุฌูุงุช:** ุงุจุญุซ ุนู ุฑุณุงุฆู "Extracted booking date"
2. **ุจูุงูุงุช ุงูุฅุดุนุงุฑ:** ุชุฃูุฏ ูู ูุฌูุฏ `appointmentDate`
3. **ุชูุณูู ุงูุชุงุฑูุฎ:** ุชุฃูุฏ ูู ุตุญุฉ ุชูุณูู ุงูุชุงุฑูุฎ

#### **ุงูุญููู:**
1. **ุชุญูู ูู ุจูุงูุงุช ุงูุฅุดุนุงุฑ** ูู Firebase
2. **ุชุฃูุฏ ูู ุชูุณูู ุงูุชุงุฑูุฎ** (ISO 8601)
3. **ุฑุงุฌุน ุงูุณุฌูุงุช** ููุชุดุฎูุต

### **ุฅุฐุง ูู ุชูุชุญ ุงูุดุงุดุฉ ุนูู ุงูุชุงุฑูุฎ ุงูุตุญูุญ:**
1. **ุชุญูู ูู `initialDate`** ูู `DoctorBookingsScreen`
2. **ุชุฃูุฏ ูู ุชุบููุฑ ุงูููุชุฑ** ุฅูู "custom"
3. **ุฑุงุฌุน `_selectedDate`** ูู ุงููุงุฌูุฉ
